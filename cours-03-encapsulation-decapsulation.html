<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C03 â€” Encapsulation & DÃ©capsulation Â· Network+</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=Epilogue:wght@400;600;800;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #07090f; --bg2: #0d1117; --card: #111826;
    --border: #1c2a3a; --text: #dde4f0; --muted: #536070;
    --accent: #38bdf8; --green: #22d3a0; --amber: #fbbf24;
    --red: #f87171; --purple: #a78bfa;
  }
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body { background: var(--bg); color: var(--text); font-family: 'Epilogue', sans-serif; min-height: 100vh; line-height: 1.75; }
  body::before { content: ''; position: fixed; inset: 0; background-image: radial-gradient(rgba(56,189,248,0.06) 1px, transparent 1px); background-size: 28px 28px; pointer-events: none; z-index: 0; }
  .wrap { max-width: 860px; margin: 0 auto; padding: 48px 20px 100px; position: relative; z-index: 1; }

  .breadcrumb { font-family: 'IBM Plex Mono', monospace; font-size: 0.68rem; color: var(--muted); letter-spacing: 1px; margin-bottom: 24px; display: flex; align-items: center; gap: 8px; }
  .breadcrumb span { color: var(--accent); }
  .pills { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px; }
  .pill { font-family: 'IBM Plex Mono', monospace; font-size: 0.65rem; letter-spacing: 1px; text-transform: uppercase; padding: 4px 12px; border-radius: 6px; font-weight: 600; }
  .pill-phase { color: var(--accent); background: rgba(56,189,248,0.08); border: 1px solid rgba(56,189,248,0.2); }
  .pill-key   { color: var(--purple); background: rgba(167,139,250,0.08); border: 1px solid rgba(167,139,250,0.2); }
  .pill-exam  { color: var(--red);    background: rgba(248,113,113,0.08); border: 1px solid rgba(248,113,113,0.2); }
  .pill-diff  { color: var(--amber);  background: rgba(251,191,36,0.08);  border: 1px solid rgba(251,191,36,0.2); }

  h1 { font-size: clamp(1.8rem, 4vw, 2.8rem); font-weight: 900; line-height: 1.05; letter-spacing: -1px; margin-bottom: 8px; }
  h1 span { color: var(--accent); }
  .tagline { font-family: 'IBM Plex Mono', monospace; font-size: 0.78rem; color: var(--muted); margin-bottom: 36px; display: block; }

  /* MASTERY */
  .mastery-card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 20px 24px; margin-bottom: 36px; }
  .mastery-title { font-family: 'IBM Plex Mono', monospace; font-size: 0.68rem; color: var(--muted); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 14px; }
  .mastery-checks { display: flex; flex-direction: column; gap: 8px; }
  .mcheck { display: flex; align-items: center; gap: 12px; cursor: pointer; user-select: none; padding: 8px 12px; border-radius: 8px; transition: background 0.15s; }
  .mcheck:hover { background: rgba(56,189,248,0.04); }
  .mcheck-box { width: 18px; height: 18px; border: 1.5px solid var(--border); border-radius: 5px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 10px; color: transparent; transition: all 0.18s; }
  .mcheck-box.done { background: var(--green); border-color: var(--green); color: #fff; }
  .mcheck-label { font-size: 0.88rem; transition: color 0.2s; }
  .mcheck.done .mcheck-label { color: var(--muted); text-decoration: line-through; }
  .mastery-bar-wrap { height: 4px; background: var(--border); border-radius: 99px; margin-top: 16px; overflow: hidden; }
  .mastery-bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--green), var(--accent)); border-radius: 99px; transition: width 0.4s ease; }

  /* SECTION */
  .section { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 28px 30px; margin-bottom: 16px; }
  .section-label { font-family: 'IBM Plex Mono', monospace; font-size: 0.65rem; color: var(--muted); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 16px; display: flex; align-items: center; gap: 10px; }
  .section-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
  h2 { font-size: 1.15rem; font-weight: 800; margin-bottom: 14px; }
  h3 { font-size: 0.95rem; font-weight: 700; color: var(--accent); margin: 22px 0 10px; font-family: 'IBM Plex Mono', monospace; }
  p { margin-bottom: 14px; font-size: 0.92rem; }

  /* CALLOUTS */
  .callout { border-radius: 10px; padding: 14px 18px; margin: 14px 0; font-size: 0.88rem; display: flex; gap: 12px; align-items: flex-start; }
  .callout-icon { flex-shrink: 0; font-size: 1rem; margin-top: 1px; }
  .callout-body { flex: 1; line-height: 1.65; }
  .callout-body strong { display: block; margin-bottom: 4px; font-size: 0.85rem; }
  .callout.analogy { background: rgba(167,139,250,0.07); border: 1px solid rgba(167,139,250,0.2); }
  .callout.analogy .callout-body strong { color: var(--purple); }
  .callout.tip  { background: rgba(56,189,248,0.06);  border: 1px solid rgba(56,189,248,0.18); }
  .callout.tip .callout-body strong { color: var(--accent); }
  .callout.warn { background: rgba(248,113,113,0.07); border: 1px solid rgba(248,113,113,0.2); }
  .callout.warn .callout-body strong { color: var(--red); }
  .callout.exam { background: rgba(251,191,36,0.07);  border: 1px solid rgba(251,191,36,0.2); }
  .callout.exam .callout-body strong { color: var(--amber); }
  .callout.ok   { background: rgba(34,211,160,0.07);  border: 1px solid rgba(34,211,160,0.2); }
  .callout.ok .callout-body strong { color: var(--green); }

  /* VOCAB */
  .vocab { background: var(--bg2); border-left: 3px solid var(--accent); border-radius: 0 8px 8px 0; padding: 12px 16px; margin: 12px 0; font-size: 0.88rem; }
  .vocab-term { font-family: 'IBM Plex Mono', monospace; color: var(--accent); font-weight: 600; margin-bottom: 4px; }

  /* TABLE */
  .tbl-wrap { overflow-x: auto; margin: 16px 0; }
  table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
  th { background: var(--bg2); color: var(--muted); font-family: 'IBM Plex Mono', monospace; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 1px; padding: 10px 14px; text-align: left; border-bottom: 1px solid var(--border); }
  td { padding: 10px 14px; border-bottom: 1px solid rgba(28,42,58,0.6); vertical-align: top; }
  tr:last-child td { border-bottom: none; }
  tr:hover td { background: rgba(56,189,248,0.02); }
  td strong { color: var(--accent); }
  code { font-family: 'IBM Plex Mono', monospace; font-size: 0.8rem; color: var(--accent); background: rgba(56,189,248,0.08); padding: 1px 5px; border-radius: 4px; }

  /* â”€â”€ ENCAPSULATION ANIMATION â”€â”€ */
  .encap-demo { margin: 20px 0; }
  .encap-title { font-family: 'IBM Plex Mono', monospace; font-size: 0.72rem; color: var(--muted); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 14px; display: flex; align-items: center; gap: 10px; }
  .encap-title::after { content: ''; flex: 1; height: 1px; background: var(--border); }

  .encap-stack { display: flex; flex-direction: column; gap: 6px; }
  .encap-row {
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .encap-row.visible { opacity: 1; transform: translateY(0); }
  .encap-layer-badge {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.65rem;
    font-weight: 700;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: #fff;
  }
  .encap-box {
    flex: 1;
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 0.82rem;
    font-family: 'IBM Plex Mono', monospace;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    border: 1px solid transparent;
    transition: border-color 0.3s;
  }
  .encap-header {
    font-weight: 700;
    font-size: 0.75rem;
    padding: 3px 8px;
    border-radius: 4px;
    white-space: nowrap;
  }
  .encap-data { color: var(--muted); font-size: 0.75rem; }
  .encap-pdu { font-size: 0.65rem; color: var(--muted); white-space: nowrap; margin-left: auto; }

  .encap-btn {
    background: rgba(56,189,248,0.08);
    border: 1px solid rgba(56,189,248,0.25);
    color: var(--accent);
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.72rem;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    margin: 16px 0 8px;
    transition: all 0.2s;
    display: inline-block;
  }
  .encap-btn:hover { background: rgba(56,189,248,0.16); }

  /* DECAP */
  .decap-stack { display: flex; flex-direction: column; gap: 6px; }

  /* KEY POINTS */
  .kp { display: flex; gap: 10px; align-items: flex-start; font-size: 0.88rem; padding: 9px 0; border-bottom: 1px solid rgba(28,42,58,0.5); }
  .kp:last-child { border-bottom: none; }
  .kp-dot { color: var(--accent); font-weight: 900; flex-shrink: 0; margin-top: 2px; }

  /* EXERCISES */
  .exq { background: var(--bg2); border: 1px solid var(--border); border-radius: 8px; padding: 12px 16px; margin-bottom: 8px; font-size: 0.85rem; cursor: pointer; display: flex; align-items: flex-start; gap: 12px; transition: border-color 0.2s; }
  .exq:hover { border-color: rgba(56,189,248,0.25); }
  .exq-num { font-family: 'IBM Plex Mono', monospace; color: var(--muted); min-width: 24px; flex-shrink: 0; margin-top: 2px; }
  .exq-text { flex: 1; color: var(--text); }
  .exq-reveal { font-family: 'IBM Plex Mono', monospace; color: var(--muted); font-size: 0.7rem; white-space: nowrap; margin-top: 2px; }
  .exq-answer { display: none; background: rgba(34,211,160,0.06); border: 1px solid rgba(34,211,160,0.2); border-radius: 8px; padding: 12px 16px; font-size: 0.85rem; color: var(--green); margin-bottom: 10px; line-height: 1.8; }
  .exq-answer.visible { display: block; }

  /* NAV */
  .nav-footer { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px; margin-top: 48px; padding-top: 28px; border-top: 1px solid var(--border); }
  .nav-btn { font-family: 'IBM Plex Mono', monospace; font-size: 0.72rem; padding: 10px 18px; border-radius: 8px; transition: all 0.2s; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; border: 1px solid var(--border); background: var(--card); color: var(--muted); }
  .nav-btn.next { background: rgba(56,189,248,0.08); border-color: rgba(56,189,248,0.25); color: var(--accent); }
  .nav-btn.next:hover { background: rgba(56,189,248,0.15); }

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 99px; }
</style>
</head>
<body>
<div class="wrap">

  <div class="breadcrumb">Network+ N10-009 &nbsp;â€º&nbsp; <span>Phase 1 â€” Fondamentaux</span> &nbsp;â€º&nbsp; Cours 03</div>

  <div class="pills">
    <span class="pill pill-phase">Phase 1 Â· C03</span>
    <span class="pill pill-key">ğŸ”‘ KEY</span>
    <span class="pill pill-exam">âš ï¸ EXAM</span>
    <span class="pill pill-diff">âš¡âš¡â˜† Moyen</span>
  </div>

  <h1>Encapsulation &amp; <span>DÃ©capsulation</span></h1>
  <span class="tagline">// Comment les donnÃ©es se transforment couche par couche pour traverser un rÃ©seau</span>

  <!-- MASTERY -->
  <div class="mastery-card">
    <div class="mastery-title">Suivi de maÃ®trise</div>
    <div class="mastery-checks">
      <div class="mcheck" onclick="toggleCheck(this)"><div class="mcheck-box">âœ“</div><span class="mcheck-label">J'ai lu ce cours en entier</span></div>
      <div class="mcheck" onclick="toggleCheck(this)"><div class="mcheck-box">âœ“</div><span class="mcheck-label">Je comprends la diffÃ©rence entre encapsulation et dÃ©capsulation</span></div>
      <div class="mcheck" onclick="toggleCheck(this)"><div class="mcheck-box">âœ“</div><span class="mcheck-label">Je connais les 5 PDU et leur couche OSI respective</span></div>
      <div class="mcheck" onclick="toggleCheck(this)"><div class="mcheck-box">âœ“</div><span class="mcheck-label">Je sais ce qu'un en-tÃªte contient Ã  chaque couche</span></div>
      <div class="mcheck" onclick="toggleCheck(this)"><div class="mcheck-box">âœ“</div><span class="mcheck-label">J'ai rÃ©ussi tous les exercices sans regarder le cours</span></div>
    </div>
    <div class="mastery-bar-wrap"><div class="mastery-bar-fill" id="mastBar"></div></div>
  </div>

  <!-- 1. C'EST QUOI -->
  <div class="section">
    <div class="section-label">Avant de commencer</div>
    <h2>C'est quoi l'encapsulation â€” en une image</h2>

    <div class="callout analogy">
      <span class="callout-icon">ğŸ“¬</span>
      <div class="callout-body">
        <strong>Analogie â€” envoyer une lettre internationale</strong>
        Tu Ã©cris une lettre (tes donnÃ©es). Tu la mets dans une enveloppe avec l'adresse du destinataire. Tu mets cette enveloppe dans un colis pour la Poste. La Poste met le colis dans un container pour l'avion. L'avion transporte le container.
        <br><br>
        Ã€ chaque Ã©tape, quelqu'un <strong>ajoute son propre emballage</strong> avec ses propres informations. Ã€ la rÃ©ception, chaque intermÃ©diaire <strong>enlÃ¨ve son emballage</strong> et passe le reste au suivant. C'est exactement ce que font les couches OSI avec les donnÃ©es rÃ©seau.
      </div>
    </div>

    <p><strong>Encapsulation</strong> = Ã  l'envoi, les donnÃ©es descendent les couches OSI de 7 vers 1. Chaque couche <strong>ajoute son en-tÃªte</strong> (et parfois un trailer) autour des donnÃ©es.</p>
    <p><strong>DÃ©capsulation</strong> = Ã  la rÃ©ception, les donnÃ©es montent les couches OSI de 1 vers 7. Chaque couche <strong>lit puis enlÃ¨ve son en-tÃªte</strong> et transmet le reste Ã  la couche supÃ©rieure.</p>

    <div class="callout tip">
      <span class="callout-icon">ğŸ¯</span>
      <div class="callout-body">
        <strong>Pourquoi c'est important pour l'examen ?</strong>
        L'encapsulation explique pourquoi les donnÃ©es ont un nom diffÃ©rent Ã  chaque couche (bit, trame, paquet, segment). CompTIA te pose des questions sur ces noms et sur ce qu'un en-tÃªte contient. C'est aussi la base pour comprendre Wireshark et le dÃ©pannage rÃ©seau.
      </div>
    </div>
  </div>

  <!-- 2. VOCABULAIRE -->
  <div class="section">
    <div class="section-label">Vocabulaire essentiel</div>
    <h2>Les mots clÃ©s de ce cours</h2>

    <div class="vocab">
      <div class="vocab-term">En-tÃªte (Header)</div>
      <div>Information ajoutÃ©e <strong>au dÃ©but</strong> des donnÃ©es par une couche OSI. Contient des mÃ©tadonnÃ©es comme l'adresse source, l'adresse destination, le numÃ©ro de port, etc.</div>
    </div>
    <div class="vocab">
      <div class="vocab-term">Trailer (ou Queue)</div>
      <div>Information ajoutÃ©e <strong>Ã  la fin</strong> des donnÃ©es par une couche. UtilisÃ© principalement Ã  la couche 2 pour la dÃ©tection d'erreurs (FCS = Frame Check Sequence).</div>
    </div>
    <div class="vocab">
      <div class="vocab-term">PDU â€” Protocol Data Unit</div>
      <div>Le nom donnÃ© aux donnÃ©es Ã  chaque couche. Les donnÃ©es changent de nom Ã  chaque couche car leur structure change (un en-tÃªte est ajoutÃ© ou retirÃ©).</div>
    </div>
    <div class="vocab">
      <div class="vocab-term">Payload (charge utile)</div>
      <div>La partie utile des donnÃ©es â€” c'est-Ã -dire le contenu rÃ©el du message, sans les en-tÃªtes. Ã€ chaque couche, le payload = les donnÃ©es venant de la couche supÃ©rieure + leurs en-tÃªtes.</div>
    </div>
    <div class="vocab">
      <div class="vocab-term">FCS â€” Frame Check Sequence</div>
      <div>Un code ajoutÃ© Ã  la fin d'une trame Ethernet (trailer couche 2) qui permet au destinataire de vÃ©rifier que la trame n'a pas Ã©tÃ© corrompue pendant la transmission.</div>
    </div>
  </div>

  <!-- 3. LES 5 PDU -->
  <div class="section">
    <div class="section-label">Les noms des donnÃ©es par couche</div>
    <h2>Les 5 PDU â€” Ã  connaÃ®tre par cÅ“ur</h2>
    <p>Ã€ chaque couche, les donnÃ©es portent un nom spÃ©cifique. Ce nom change car la structure des donnÃ©es change (un en-tÃªte est ajoutÃ© ou retirÃ©).</p>

    <div class="tbl-wrap">
      <table>
        <tr><th>Couche OSI</th><th>Nom (PDU)</th><th>Ce que Ã§a contient</th><th>En franÃ§ais courant</th></tr>
        <tr>
          <td><strong>7 - 5</strong> Application / Session / PrÃ©sentation</td>
          <td><strong style="color:var(--purple)">DonnÃ©es (Data)</strong></td>
          <td>Le message original de l'utilisateur</td>
          <td>"Le contenu"</td>
        </tr>
        <tr>
          <td><strong>4</strong> Transport</td>
          <td><strong style="color:var(--green)">Segment</strong> (TCP) <br><strong style="color:var(--green)">Datagramme</strong> (UDP)</td>
          <td>DonnÃ©es + en-tÃªte TCP/UDP (ports, numÃ©ro de sÃ©quenceâ€¦)</td>
          <td>"Le morceau dÃ©coupÃ©"</td>
        </tr>
        <tr>
          <td><strong>3</strong> RÃ©seau</td>
          <td><strong style="color:var(--amber)">Paquet (Packet)</strong></td>
          <td>Segment + en-tÃªte IP (IP source, IP destination, TTLâ€¦)</td>
          <td>"L'enveloppe avec l'adresse postale"</td>
        </tr>
        <tr>
          <td><strong>2</strong> Liaison</td>
          <td><strong style="color:var(--red)">Trame (Frame)</strong></td>
          <td>Paquet + en-tÃªte Ethernet (MAC source, MAC dest) + FCS trailer</td>
          <td>"Le colis pour la livraison locale"</td>
        </tr>
        <tr>
          <td><strong>1</strong> Physique</td>
          <td><strong style="color:var(--muted)">Bits</strong></td>
          <td>La trame convertie en 0 et 1 (signaux Ã©lectriques/lumineux/radio)</td>
          <td>"Le signal sur le cÃ¢ble"</td>
        </tr>
      </table>
    </div>

    <div class="callout ok">
      <span class="callout-icon">ğŸ”‘</span>
      <div class="callout-body">
        <strong>MnÃ©monique PDU â€” "Des Singes Pandas TrÃ¨s Bien"</strong>
        <strong>D</strong>onnÃ©es (L7-5) Â· <strong>S</strong>egment (L4) Â· <strong>P</strong>aquet (L3) Â· <strong>T</strong>rame (L2) Â· <strong>B</strong>its (L1)
      </div>
    </div>
  </div>

  <!-- 4. ENCAPSULATION INTERACTIVE -->
  <div class="section">
    <div class="section-label">Visualisation interactive</div>
    <h2>L'encapsulation â€” Ã©tape par Ã©tape</h2>
    <p>Voici ce qui se passe quand tu envoies un email. Clique sur le bouton pour voir chaque couche ajouter son en-tÃªte.</p>

    <button class="encap-btn" onclick="animateEncap()">â–¶ Lancer l'animation d'encapsulation</button>

    <div class="encap-demo">
      <div class="encap-title">Envoi â€” couche 7 â†’ couche 1</div>
      <div class="encap-stack" id="encapStack">

        <div class="encap-row" id="row7">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#a78bfa,#7c3aed)">7</div>
          <div class="encap-box" style="background:rgba(167,139,250,0.08);border-color:rgba(167,139,250,0.2)">
            <span class="encap-header" style="background:rgba(167,139,250,0.2);color:#a78bfa">En-tÃªte HTTP</span>
            <span class="encap-data">[ Corps de l'email â€” le texte que tu as Ã©crit ]</span>
            <span class="encap-pdu">PDU â†’ DonnÃ©es</span>
          </div>
        </div>

        <div class="encap-row" id="row4">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#22d3a0,#059669)">4</div>
          <div class="encap-box" style="background:rgba(34,211,160,0.06);border-color:rgba(34,211,160,0.2)">
            <span class="encap-header" style="background:rgba(34,211,160,0.2);color:#22d3a0">En-tÃªte TCP</span>
            <span class="encap-data" style="font-size:0.7rem">Port src:54321 Â· Port dst:25 Â· Seq:1 Â· Ack:0</span>
            <span class="encap-data">[ En-tÃªte HTTP + Email ]</span>
            <span class="encap-pdu">PDU â†’ Segment</span>
          </div>
        </div>

        <div class="encap-row" id="row3">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#fbbf24,#d97706)">3</div>
          <div class="encap-box" style="background:rgba(251,191,36,0.06);border-color:rgba(251,191,36,0.2)">
            <span class="encap-header" style="background:rgba(251,191,36,0.2);color:#fbbf24">En-tÃªte IP</span>
            <span class="encap-data" style="font-size:0.7rem">IP src: 192.168.1.10 Â· IP dst: 93.184.216.34 Â· TTL:64</span>
            <span class="encap-data">[ Segment TCP ]</span>
            <span class="encap-pdu">PDU â†’ Paquet</span>
          </div>
        </div>

        <div class="encap-row" id="row2">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#f87171,#dc2626)">2</div>
          <div class="encap-box" style="background:rgba(248,113,113,0.06);border-color:rgba(248,113,113,0.2)">
            <span class="encap-header" style="background:rgba(248,113,113,0.2);color:#f87171">En-tÃªte Ethernet</span>
            <span class="encap-data" style="font-size:0.7rem">MAC src: A4:83:E7:2C:11:01 Â· MAC dst: FF:FF:FF:FF:FF:01</span>
            <span class="encap-data">[ Paquet IP ]</span>
            <span class="encap-header" style="background:rgba(248,113,113,0.1);color:#f87171;margin-left:auto">FCS âœ“</span>
            <span class="encap-pdu">PDU â†’ Trame</span>
          </div>
        </div>

        <div class="encap-row" id="row1">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#94a3b8,#475569)">1</div>
          <div class="encap-box" style="background:rgba(148,163,184,0.06);border-color:rgba(148,163,184,0.2)">
            <span style="font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--muted)">10110001 01001010 11000011 00101101 10110001 01001010â€¦</span>
            <span class="encap-pdu">PDU â†’ Bits</span>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- 5. DÃ‰CAPSULATION -->
  <div class="section">
    <div class="section-label">Ã€ la rÃ©ception</div>
    <h2>La dÃ©capsulation â€” l'opÃ©ration inverse</h2>
    <p>Ã€ la rÃ©ception, chaque couche OSI lit l'en-tÃªte qui lui est destinÃ©, vÃ©rifie les informations, puis <strong>enlÃ¨ve l'en-tÃªte</strong> avant de passer les donnÃ©es Ã  la couche supÃ©rieure.</p>

    <button class="encap-btn" onclick="animateDecap()">â–¶ Lancer l'animation de dÃ©capsulation</button>

    <div class="encap-demo">
      <div class="encap-title">RÃ©ception â€” couche 1 â†’ couche 7</div>
      <div class="decap-stack" id="decapStack">

        <div class="encap-row" id="drow1">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#94a3b8,#475569)">1</div>
          <div class="encap-box" style="background:rgba(148,163,184,0.06);border-color:rgba(148,163,184,0.2)">
            <span style="font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--muted)">10110001 01001010 â€¦ reÃ§us sur le cÃ¢ble</span>
            <span class="encap-pdu">ReÃ§oit : Bits â†’ convertit en Trame</span>
          </div>
        </div>

        <div class="encap-row" id="drow2">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#f87171,#dc2626)">2</div>
          <div class="encap-box" style="background:rgba(248,113,113,0.06);border-color:rgba(248,113,113,0.2)">
            <span class="encap-data">Lit l'en-tÃªte Ethernet Â· VÃ©rifie FCS Â· Retire l'en-tÃªte</span>
            <span class="encap-pdu">Passe le Paquet IP Ã  la couche 3 â†‘</span>
          </div>
        </div>

        <div class="encap-row" id="drow3">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#fbbf24,#d97706)">3</div>
          <div class="encap-box" style="background:rgba(251,191,36,0.06);border-color:rgba(251,191,36,0.2)">
            <span class="encap-data">Lit l'en-tÃªte IP Â· VÃ©rifie IP destination Â· Retire l'en-tÃªte</span>
            <span class="encap-pdu">Passe le Segment TCP Ã  la couche 4 â†‘</span>
          </div>
        </div>

        <div class="encap-row" id="drow4">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#22d3a0,#059669)">4</div>
          <div class="encap-box" style="background:rgba(34,211,160,0.06);border-color:rgba(34,211,160,0.2)">
            <span class="encap-data">Lit l'en-tÃªte TCP Â· VÃ©rifie le port Â· RÃ©assemble les segments Â· Retire l'en-tÃªte</span>
            <span class="encap-pdu">Passe les DonnÃ©es HTTP Ã  la couche 7 â†‘</span>
          </div>
        </div>

        <div class="encap-row" id="drow7">
          <div class="encap-layer-badge" style="background:linear-gradient(135deg,#a78bfa,#7c3aed)">7</div>
          <div class="encap-box" style="background:rgba(167,139,250,0.08);border-color:rgba(167,139,250,0.3)">
            <span style="color:var(--green);font-weight:700">âœ… Email affichÃ© dans ton application !</span>
            <span class="encap-pdu">DonnÃ©es reconstituÃ©es</span>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- 6. CE QUE CONTIENT CHAQUE EN-TÃŠTE -->
  <div class="section">
    <div class="section-label">Dans le dÃ©tail</div>
    <h2>Ce que contient chaque en-tÃªte</h2>
    <p>C'est ce que CompTIA teste : savoir <em>quelle information</em> se trouve dans l'en-tÃªte de <em>quelle couche</em>.</p>

    <div class="tbl-wrap">
      <table>
        <tr><th>Couche</th><th>En-tÃªte ajoutÃ©</th><th>Informations clÃ©s contenues</th></tr>
        <tr>
          <td><strong>4</strong> Transport</td>
          <td>En-tÃªte TCP ou UDP</td>
          <td>Port source Â· Port destination Â· NumÃ©ro de sÃ©quence (TCP) Â· NumÃ©ro d'accusÃ© de rÃ©ception (TCP) Â· Flags (SYN, ACK, FINâ€¦)</td>
        </tr>
        <tr>
          <td><strong>3</strong> RÃ©seau</td>
          <td>En-tÃªte IP</td>
          <td>Adresse IP source Â· Adresse IP destination Â· TTL (Time To Live) Â· Protocole (TCP=6, UDP=17, ICMP=1)</td>
        </tr>
        <tr>
          <td><strong>2</strong> Liaison</td>
          <td>En-tÃªte + Trailer Ethernet</td>
          <td>Adresse MAC source Â· Adresse MAC destination Â· EtherType Â· FCS (Frame Check Sequence â€” dÃ©tection d'erreurs)</td>
        </tr>
      </table>
    </div>

    <div class="callout tip">
      <span class="callout-icon">ğŸ’¡</span>
      <div class="callout-body">
        <strong>RÃ¨gle simple Ã  retenir :</strong><br>
        En-tÃªte <strong>couche 4</strong> = adresses de <strong>port</strong> (quel service ?)<br>
        En-tÃªte <strong>couche 3</strong> = adresses <strong>IP</strong> (quel ordinateur sur Internet ?)<br>
        En-tÃªte <strong>couche 2</strong> = adresses <strong>MAC</strong> (quel appareil sur le rÃ©seau local ?)
      </div>
    </div>
  </div>

  <!-- 7. EXEMPLE CONCRET COMPLET -->
  <div class="section">
    <div class="section-label">Exemple concret</div>
    <h2>Que se passe-t-il quand tu ouvres google.com ?</h2>

    <p>Tu tapes <code>google.com</code> dans Chrome. Voici exactement ce qui se passe couche par couche :</p>

    <div class="tbl-wrap">
      <table>
        <tr><th>Couche</th><th>Action</th><th>Ce qui est ajoutÃ©</th></tr>
        <tr><td><strong>7</strong> Application</td><td>Chrome crÃ©e une requÃªte HTTP GET</td><td>RequÃªte : <code>GET / HTTP/1.1 Host: google.com</code></td></tr>
        <tr><td><strong>4</strong> Transport</td><td>TCP dÃ©coupe la requÃªte et prÃ©pare la connexion</td><td>En-tÃªte TCP : port src 52000, port dst <strong>443</strong> (HTTPS)</td></tr>
        <tr><td><strong>3</strong> RÃ©seau</td><td>IP prÃ©pare le routage vers Google</td><td>En-tÃªte IP : IP src <code>192.168.1.10</code>, IP dst <code>142.250.74.46</code></td></tr>
        <tr><td><strong>2</strong> Liaison</td><td>Ethernet prÃ©pare la livraison vers ta box</td><td>En-tÃªte : MAC src (ton PC), MAC dst (ta box) + FCS</td></tr>
        <tr><td><strong>1</strong> Physique</td><td>Conversion en signaux</td><td>Bits envoyÃ©s sur le cÃ¢ble ou en Wi-Fi</td></tr>
      </table>
    </div>

    <div class="callout analogy">
      <span class="callout-icon">ğŸŒ</span>
      <div class="callout-body">
        <strong>Remarque importante sur les adresses MAC</strong>
        L'adresse MAC change Ã  chaque "saut" (hop) entre routeurs. L'adresse IP, elle, reste la mÃªme de bout en bout. C'est pourquoi on a besoin des deux : l'IP pour trouver la destination finale sur Internet, la MAC pour le tronÃ§on local actuel.
      </div>
    </div>
  </div>

  <!-- 8. PIÃˆGES -->
  <div class="section">
    <div class="section-label">âš ï¸ PiÃ¨ges frÃ©quents</div>
    <h2>Ce qui trompe les candidats</h2>

    <div class="callout warn">
      <span class="callout-icon">âš ï¸</span>
      <div class="callout-body">
        <strong>PiÃ¨ge 1 â€” Confondre Segment et Paquet</strong>
        Segment = couche <strong>4</strong> (Transport, TCP/UDP).<br>
        Paquet = couche <strong>3</strong> (RÃ©seau, IP).<br>
        Un paquet <strong>contient</strong> un segment. Un segment ne contient pas de paquet.
      </div>
    </div>

    <div class="callout warn">
      <span class="callout-icon">âš ï¸</span>
      <div class="callout-body">
        <strong>PiÃ¨ge 2 â€” L'adresse IP dans l'en-tÃªte couche 2 ?</strong>
        Non ! L'en-tÃªte Ethernet (couche 2) contient les <strong>adresses MAC</strong>, pas les adresses IP. Les adresses IP sont dans l'en-tÃªte couche 3. TrÃ¨s frÃ©quent Ã  l'examen.
      </div>
    </div>

    <div class="callout warn">
      <span class="callout-icon">âš ï¸</span>
      <div class="callout-body">
        <strong>PiÃ¨ge 3 â€” Le FCS est un en-tÃªte ?</strong>
        Non ! Le FCS est un <strong>trailer</strong> (il est ajoutÃ© Ã  la <em>fin</em> de la trame, pas au dÃ©but). C'est le seul trailer important Ã  l'examen Network+.
      </div>
    </div>

    <div class="callout warn">
      <span class="callout-icon">âš ï¸</span>
      <div class="callout-body">
        <strong>PiÃ¨ge 4 â€” "Datagramme" c'est quoi ?</strong>
        Datagramme = le PDU de la couche 4 pour <strong>UDP</strong> (comme Segment l'est pour TCP). Les deux mots dÃ©signent le PDU de la couche Transport â€” mais Segment = TCP, Datagramme = UDP.
      </div>
    </div>
  </div>

  <!-- 9. EXERCICES -->
  <div class="section">
    <div class="section-label">ğŸ§ª Exercices interactifs</div>
    <h2>Teste-toi â€” sans regarder le cours</h2>
    <p style="font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--muted);margin-bottom:16px;">Clique pour rÃ©vÃ©ler la rÃ©ponse.</p>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">01</span><span class="exq-text">Quel est le nom des donnÃ©es Ã  la couche 3 (RÃ©seau) ?</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer"><strong>Paquet</strong> (Packet). Couche 2 = Trame, Couche 4 = Segment.</div>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">02</span><span class="exq-text">Quelle information trouve-t-on dans l'en-tÃªte de la couche 2 (Liaison) ?</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer">L'en-tÃªte Ethernet (couche 2) contient :<br>â€¢ Adresse <strong>MAC source</strong><br>â€¢ Adresse <strong>MAC destination</strong><br>â€¢ EtherType (type de protocole couche 3)<br>â€¢ FCS (trailer â€” dÃ©tection d'erreurs)</div>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">03</span><span class="exq-text">Un technicien analyse un paquet rÃ©seau et voit "IP src: 10.0.0.1, IP dst: 8.8.8.8". Ã€ quelle couche appartient cette information ?</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer">Couche <strong>3 â€” RÃ©seau</strong>. Les adresses IP font partie de l'en-tÃªte IP de la couche 3.</div>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">04</span><span class="exq-text">Dans quel sens se fait l'encapsulation ? Et la dÃ©capsulation ?</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer">Encapsulation = <strong>7 â†’ 1</strong> (envoi) â€” on ajoute des en-tÃªtes en descendant.<br>DÃ©capsulation = <strong>1 â†’ 7</strong> (rÃ©ception) â€” on enlÃ¨ve des en-tÃªtes en montant.</div>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">05</span><span class="exq-text">Cite les 5 PDU dans l'ordre, de la couche 7 Ã  la couche 1.</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer">DonnÃ©es (L7-5) â†’ Segment/Datagramme (L4) â†’ Paquet (L3) â†’ Trame (L2) â†’ Bits (L1)<br><br>MnÃ©monique : <strong>"Des Singes Pandas TrÃ¨s Bien"</strong></div>

    <div class="exq" onclick="toggleAnswer(this)"><span class="exq-num">06</span><span class="exq-text">Question type examen : Un analyste rÃ©seau voit des "runts" (trames trop courtes) dans ses captures. Ã€ quelle couche OSI se situe ce problÃ¨me ?</span><span class="exq-reveal">â–¼ voir</span></div>
    <div class="exq-answer">Couche <strong>2 â€” Liaison de donnÃ©es</strong>. Les runts sont des trames Ethernet dont la taille est infÃ©rieure au minimum de 64 octets. Le FCS de la trame le dÃ©tecte. C'est un problÃ¨me couche 2.</div>
  </div>

  <!-- 10. RÃ‰SUMÃ‰ -->
  <div class="section">
    <div class="section-label">RÃ©sumÃ©</div>
    <h2>ğŸ”‘ Ce que tu dois retenir absolument</h2>
    <div>
      <div class="kp"><span class="kp-dot">â†’</span><span><strong>Encapsulation</strong> = envoi, 7â†’1, chaque couche ajoute un en-tÃªte.</span></div>
      <div class="kp"><span class="kp-dot">â†’</span><span><strong>DÃ©capsulation</strong> = rÃ©ception, 1â†’7, chaque couche lit et enlÃ¨ve son en-tÃªte.</span></div>
      <div class="kp"><span class="kp-dot">â†’</span><span>PDU : DonnÃ©es (L7-5) Â· Segment/Datagramme (L4) Â· Paquet (L3) Â· Trame (L2) Â· Bits (L1)</span></div>
      <div class="kp"><span class="kp-dot">â†’</span><span>En-tÃªte L4 = <strong>ports</strong> Â· En-tÃªte L3 = <strong>adresses IP</strong> Â· En-tÃªte L2 = <strong>adresses MAC</strong> + FCS</span></div>
      <div class="kp"><span class="kp-dot">â†’</span><span>Le FCS est un <strong>trailer</strong> (fin de trame), pas un en-tÃªte.</span></div>
      <div class="kp"><span class="kp-dot">â†’</span><span>L'adresse MAC change Ã  chaque routeur (hop). L'adresse IP reste la mÃªme de bout en bout.</span></div>
    </div>
  </div>

  <!-- 11. EXAM -->
  <div class="section">
    <div class="section-label">Questions type examen</div>
    <h2>â“ Ce que CompTIA peut te poser</h2>
    <div class="callout exam"><span class="callout-icon">ğŸ¯</span><div class="callout-body"><strong>Q : Quel PDU est crÃ©Ã© Ã  la couche Transport par le protocole TCP ?</strong>Un <strong>Segment</strong>.</div></div>
    <div class="callout exam"><span class="callout-icon">ğŸ¯</span><div class="callout-body"><strong>Q : Un utilisateur ne peut pas accÃ©der Ã  un serveur web. Le technicien capture le trafic et voit que les paquets quittent le poste mais aucune rÃ©ponse n'arrive. Ã€ quelle couche est le problÃ¨me ?</strong>Couche <strong>3 (RÃ©seau)</strong> ou au-delÃ  â€” les paquets IP partent mais la rÃ©ponse ne revient pas. ProblÃ¨me de routage ou de pare-feu.</div></div>
    <div class="callout exam"><span class="callout-icon">ğŸ¯</span><div class="callout-body"><strong>Q : Quelle information l'en-tÃªte IP (couche 3) contient-il que l'en-tÃªte Ethernet (couche 2) ne contient pas ?</strong>L'<strong>adresse IP source et destination</strong>. L'en-tÃªte Ethernet contient les adresses MAC, pas les adresses IP.</div></div>
  </div>

  <div class="nav-footer">
    <a class="nav-btn" href="cours-02-modele-osi">â† Cours 02 : ModÃ¨le OSI</a>
    <span style="font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--muted)">C03 Â· Phase 1</span>
    <a class="nav-btn next" href="cours-04-modele-tcp-ip">Cours 04 : ModÃ¨le TCP/IP â†’</a>
  </div>

</div>
<script>
// Mastery
const MKEY = 'netplus_c03_mastery';
let mastery = [];
try { mastery = JSON.parse(localStorage.getItem(MKEY) || '[]'); } catch(e) {}
function initMastery() {
  document.querySelectorAll('.mcheck').forEach((el, i) => {
    if(mastery[i]) { el.classList.add('done'); el.querySelector('.mcheck-box').classList.add('done'); }
  });
  updateBar();
}
function toggleCheck(el) {
  const i = Array.from(document.querySelectorAll('.mcheck')).indexOf(el);
  const isDone = el.classList.contains('done');
  const box = el.querySelector('.mcheck-box');
  isDone ? (el.classList.remove('done'), box.classList.remove('done'), mastery[i] = false)
         : (el.classList.add('done'), box.classList.add('done'), mastery[i] = true);
  localStorage.setItem(MKEY, JSON.stringify(mastery));
  updateBar();
}
function updateBar() {
  const total = document.querySelectorAll('.mcheck').length;
  const done  = document.querySelectorAll('.mcheck.done').length;
  document.getElementById('mastBar').style.width = Math.round(done/total*100) + '%';
}

// Encapsulation animation
function animateEncap() {
  const rows = ['row7','row4','row3','row2','row1'];
  rows.forEach(id => document.getElementById(id).classList.remove('visible'));
  rows.forEach((id, i) => {
    setTimeout(() => document.getElementById(id).classList.add('visible'), i * 500);
  });
}

// Decapsulation animation
function animateDecap() {
  const rows = ['drow1','drow2','drow3','drow4','drow7'];
  rows.forEach(id => document.getElementById(id).classList.remove('visible'));
  rows.forEach((id, i) => {
    setTimeout(() => document.getElementById(id).classList.add('visible'), i * 500);
  });
}

// Exercise reveal
function toggleAnswer(exqEl) {
  const answer = exqEl.nextElementSibling;
  const open = answer.classList.contains('visible');
  document.querySelectorAll('.exq-answer').forEach(a => a.classList.remove('visible'));
  document.querySelectorAll('.exq-reveal').forEach(r => r.textContent = 'â–¼ voir');
  if(!open) { answer.classList.add('visible'); exqEl.querySelector('.exq-reveal').textContent = 'â–² cacher'; }
}

initMastery();
</script>
  <div style="margin-top:40px;text-align:center;">
  <a class="nav-btn" href="index.html">â† Accueil â€” Plan de cours</a>
</div>
</body>
</html>
